<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Computer Vision</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-2">
            <center><img src="https://www.thegioimaychu.vn/blog/wp-content/uploads/2020/06/tgmc-blog-5ef45a984dc69.jpg"
                         class="responsive-img" style="max-height:150px"/></center>

            <ul class="nav flex-column">
                <li>
                    <form action="/" enctype="multipart/form-data">
                        <input type="submit" value="Subject Information" class="btn btn-primary">
                    </form>
                </li>
                <li>
                    <form action="/count" target="_blank" rel="noopener noreferrer" enctype="multipart/form-data">
                        <input type="submit" value="Counting Objects" class="btn btn-primary">
                    </form>
                </li>
                <li>
                    <form action="/detect" target="_blank" rel="noopener noreferrer" enctype="multipart/form-data">
                        <input type="submit" value="Detecting faces" class="btn btn-primary">
                    </form>
                </li>
            </ul>

        </div>
        <div class="col-sm-10">
            <center>
                <h1>Thực Hành Xử Lý Ảnh</h1>
                <h2 style="color: #c70505">COUNTING OBJECTS</h2>
            </center>
            <hr>
            <center>
                <form action="/countObject" method="post" enctype="multipart/form-data">
                    <p>Click to upload a image:</p>
                    <p>
                        <!--                        <label for="file" style="cursor: pointer; color: #3a22fa">-->
                        <label class="btn btn-default btn-file">
                            Upload Image
                            <input type="file" accept="image/*" name="original_image" id="file"
                                   onchange="loadFile(event)"
                                   style="display: none;">
                        </label>
                    </p>

                    <p><img id="output" width="200"/></p>

                    <input type="button" name="answer" value="Show Results!" onclick="showDiv()"/>
                    <input style="size: 5px" type="submit" value="Submit" class="btn btn-primary">
                </form>

                <hr>
                <!-- ==================== Display a Table Results after clicked on Submit =========================-->
                <!--                <div id="tableResults" style="display:none">-->
                <div id="tableResults">
                    <h3>And we got some results:</h3>
                    <h3> Please practice step by step!</h3>
                    <table style="width: 100%; font-size: 9px">
                        <tr>
                            <th>Types</th>
                            <th>Code</th>
                            <th>Img Output</th>
                        </tr>
                        <!---------------------- Step 1: ------------- :-->
                        <tr>
                            <td>
                                <!--                                <form action="/count_MedianBlur" method="post" enctype="multipart/form-data">-->
                                <b>Step 1: Median Blur & Unsharp</b>
                                <!--                                    <input style="size: 5px" type="submit" value="Transform" class="btn btn-primary">-->
                                <!--                                </form>-->
                            </td>

                            <td>
                                <pre>

                                </pre>
                            </td>
                            <td>
                                <img src="{{ image_to_show1 }}" style="width:300px">
                            </td>
                            <!--------------------- Step 2: ------------- :-->
                        </tr>
                        <tr>
                            <td><b>Step 2: Gaussian & Gray Scale </b></td>
                            <td>
                                <pre>

                                </pre>
                            </td>
                            <td>
                                <img src="{{ image_to_show2 }}" style="width:300px">
                            </td>
                        </tr>
                        <!---------------------- Step 3: ------------- :-->
                        <tr>
                            <td><b>Step 3: FFT </b></td>
                            <td>
                                <pre>

                                </pre>
                            </td>
                            <td>
                                <img src="{{ image_to_show3 }}" style="width:300px">
                            </td>
                        </tr>
                        <!---------------------- Step 4: ------------- :-->
                        <tr>
                            <td><b>Step 4: Find Canny edges & Closing </b></td>
                            <td>
                                <pre>

                                </pre>
                            </td>
                            <td>
                                <img src="{{ image_to_show4 }}" style="width:300px">
                            </td>
                        </tr>
                        <!---------------------- Step 5: ------------- :-->
                        <tr>
                            <td><b>Step 5:Find Contours and Counting</b></td>
                            <td>
                                <pre>

                                </pre>
                            </td>
                            <td>
                                <img src="{{ image_to_show5 }}" style="width:300px">
                            </td>
                        </tr>
                        <!---------------------- Ending processing ------------- :-->
                    </table>
                </div>
            </center>
        </div>
    </div>
</div>
<script>
    function showDiv() {
        var T = document.getElementById("tableResults");
        T.style.display = "block";  // <-- Set it to block
    }

    var loadFile = function (event) {
        var image = document.getElementById('output');
        image.src = URL.createObjectURL(event.target.files[0]);
    };
</script>
</body>
</html>
